"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[229],{4534:function(e,t,n){n.d(t,{Bd:function(){return h},Is:function(){return f},qb:function(){return b},xl:function(){return v}});var r=n(7762),a=n(5861),s=n(7757),o=n.n(s),i=n(3250),l=n(94),c=n(4569),u=n.n(c),d="http://tiro-app.herokuapp.com/post/get-all",p="http://tiro-app.herokuapp.com/post/get/",m="http://tiro-app.herokuapp.com/post/new";function f(e){var t=e.information.expenses.rental_price,n={type:l.Q.Position,value:e.address.address},r={type:l.Q.Price,value:t},a={id:e._id,title:e.confirmation.title_of_post,owner:e.author,address:e.address.houser_number+","+e.address.district,fee:t,description:e.confirmation.room_description,images:e.utilities.images,status:e.status,data_tags:[n,r],createAt:new Date(e.createdAt),comments:[],post_link:""};return console.log(a),a}function h(){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get(d);case 3:if(200!==(t=e.sent).status){e.next=6;break}return e.abrupt("return",{ok:!0,data:t.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.abrupt("return",{ok:!1,data:void 0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=(0,a.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u().get(p+t);case 3:if(200!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",{ok:!0,data:n.data});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.abrupt("return",{ok:!1,data:void 0});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function b(e){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(o().mark((function e(t){var n,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,u().post(m,{params:t,token:i.o},{withCredentials:!0,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"}});case 4:n=e.sent,a=(0,r.Z)(t.entries());try{for(a.s();!(s=a.n()).done;)l=s.value,console.log(l[0]+", "+l[1])}catch(o){a.e(o)}finally{a.f()}if(console.log(n),200!==n.status){e.next=10;break}return e.abrupt("return",{ok:!0,data:n.data});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:return e.abrupt("return",{ok:!1,data:void 0});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}},4229:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(885),a=n(184);function s(e){var t=e.type,n=void 0===t?"button":t,r=e.content,s=e.bgColor,o=e.onClick,i=void 0===o?function(){}:o;return(0,a.jsx)("button",{type:n,onClick:i,className:"py-2 px-4 bg-".concat(s," text-white rounded-lg font-bold hover:opacity-80 transition ease-in-out"),children:r})}var o=n(7026),i=n(8316),l=n(2791),c=(0,l.createContext)({});function u(e){var t=e.children,n=e.images,s=e.setImages,o=(0,l.useState)(n),i=(0,r.Z)(o,2),u=i[0],d=i[1],p=(0,l.useState)(n),m=(0,r.Z)(p,2),f=m[0],h=m[1];return(0,a.jsx)(c.Provider,{value:{imgs:u,is:f,setImgs:d,setImages:s,setIs:h},children:(0,a.jsx)("div",{className:"flex justify-start p-4",children:t})})}u.List=function(){var e=(0,l.useContext)(c).imgs;return(0,a.jsx)(a.Fragment,{children:e.map((function(e){return(0,a.jsx)("div",{className:"w-1/4 shadow-md rounded-lg mx-4",children:(0,a.jsx)("img",{src:e,className:"rounded-lg object-cover w-full h-[160px] shadow-md"})},e)}))})},u.Upload=function(){var e=(0,l.useContext)(c),t=e.is,n=e.imgs,r=e.setImgs,s=e.setImages,o=e.setIs;return(0,a.jsx)(a.Fragment,{children:n.length<4?(0,a.jsxs)("label",{className:"mx-4 w-[160px] h-[160px] rounded-lg border-solid border-gray-160 cursor-pointer",children:[(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center border-[3px] rounded-lg",children:(0,a.jsx)(i.Z,{iconName:i.u.PlusCircle,stroke:"#CCCCCC",size:"40px"})}),(0,a.jsx)("input",{type:"file",className:"opacity-0",accept:"image/png, image/jpeg, image/svg",onChange:function(e){var a=e.target.files[0];r(n.concat(URL.createObjectURL(a))),o(t.concat(a)),s(t.concat(a)),console.log(t)},name:"img"})]}):null})};var d=u;function p(e){var t=e.type,n=void 0===t?"text":t,r=e.iconName,s=e.name,o=e.placeholder;return(0,a.jsxs)("div",{className:"flex p-2 w-full bg-gray-150/50 rounded-full my-2",children:[(0,a.jsx)(i.Z,{iconName:r,stroke:"#CCCCCC",strokeWidth:"2"}),(0,a.jsx)("div",{className:"ml-2 w-full",children:(0,a.jsx)("input",{name:s,placeholder:o,className:"outline-none bg-transparent w-full",type:n,required:!0})})]})}var m=n(4534);function f(){var e=(0,l.useState)([]),t=(0,r.Z)(e,2),n=t[0],c=t[1];return(0,a.jsx)(o.Z,{children:(0,a.jsx)("div",{className:"w-full h-screen flex justify-center pt-8 fixed bg-gray-150",children:(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target,r=new FormData;r.append("title_of_post",t.title_of_post.value),r.append("address",t.address.value),r.append("room_area",t.room_area.value.toString()),r.append("room_description",t.room_description.value),r.append("rental_price",t.rental_price.value.toString()),r.append("file",n[0]),console.log(n[0]);var a={title_of_post:t.title_of_post.value,address:t.address.value,room_area:t.room_area.value,room_description:t.room_description.value,rental_price:t.rental_price.value};console.log(a),console.log(r),(0,m.qb)(r).then((function(e){return console.log(e.data)})).then((function(){window.location.href="/"})).catch((function(e){return console.log(e)}))},className:"w-4/5 h-5/6 p-4 shadow-md rounded-lg bg-white",children:[(0,a.jsxs)("div",{className:"flex justify-between pb-2 px-2 border-b-2 border-gray-150 border-solid",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:(0,a.jsx)("input",{name:"title_of_post",className:"bg-transparent outline-none",placeholder:"T\xean tr\u1ecd"})}),(0,a.jsxs)("div",{className:"flex justify-between w-1/5",children:[(0,a.jsx)("div",{}),(0,a.jsx)(s,{content:"\u0110\u0103ng b\xe0i",bgColor:"violet",type:"submit"})]})]}),(0,a.jsxs)("div",{className:"h-5/6 px-8 w-full",children:[(0,a.jsx)("div",{children:(0,a.jsx)(d,{setImages:c,images:[],children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.List,{}),(0,a.jsx)(d.Upload,{})]})})}),(0,a.jsx)("div",{className:"h-full flex justify-center pt-8",children:(0,a.jsxs)("div",{className:"w-4/5",children:[(0,a.jsx)(p,{name:"address",placeholder:"\u0110\u1ecba ch\u1ec9",iconName:i.u.Location1}),(0,a.jsxs)("div",{className:"flex w-full",children:[(0,a.jsx)(p,{type:"number",name:"rental_price",placeholder:"Chi ph\xed",iconName:i.u.Coin}),(0,a.jsx)(p,{type:"number",name:"room_area",placeholder:"Di\u1ec7n t\xedch ph\xf2ng (m2)",iconName:i.u.Coin})]}),(0,a.jsxs)("div",{className:"flex p-2 w-full bg-gray-150/50 rounded-lg my-2",children:[(0,a.jsx)(i.Z,{iconName:i.u.InfoCircle,stroke:"#CCCCCC",strokeWidth:"2"}),(0,a.jsx)("div",{className:"ml-2 w-full",children:(0,a.jsx)("textarea",{name:"room_description",placeholder:"M\xf4 t\u1ea3 chi ti\u1ebft",className:"outline-none bg-transparent w-full resize-none",required:!0})})]})]})})]})]})})})}},94:function(e,t,n){var r;n.d(t,{Q:function(){return r},f:function(){return a}}),function(e){e[e.Position=0]="Position",e[e.Price=1]="Price",e[e.Deposit=2]="Deposit"}(r||(r={}));var a=[{type:r.Price,value:"2tr"},{type:r.Deposit,value:"200k"},{type:r.Position,value:"Mai Dich"}]}}]);
//# sourceMappingURL=229.45b15747.chunk.js.map