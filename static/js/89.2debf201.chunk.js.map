{"version":3,"file":"static/js/89.2debf201.chunk.js","mappings":"8IAMMA,EAA6B,CAC/B,CAAEC,KAAM,IAAKC,KAAM,6BACnB,CAAED,KAAM,IAAKC,KAAM,aACnB,CAAED,KAAM,IAAKC,KAAM,SAGR,SAASC,EAAT,GAA0E,IAAD,IAAhDC,KAAAA,OAAgD,MAAzCJ,EAAyC,EACpF,OACI,gBAAKK,UAAU,oDAAf,SACKD,EAAKE,KAAI,SAACC,EAAMC,GACb,OACI,iBAAiBH,UAAU,oBAA3B,WACI,cAAGJ,KAAMM,EAAKN,KAAMI,UAAU,6BAA9B,SACKE,EAAKL,OAERM,GAASJ,EAAKK,OAAS,IAAM,iBAAMJ,UAAU,OAAhB,SAAwBE,EAAKG,WAAa,aAJnEF,U,4NCJf,SAASG,IACpB,OAA0CC,EAAAA,EAAAA,WAAS,GAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAAsCF,EAAAA,EAAAA,UAAS,IAA/C,eAAOG,EAAP,KAAoBC,EAApB,KACA,GAAwCC,EAAAA,EAAAA,KAAhCC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,OAAQC,EAA5B,EAA4BA,QAEtBC,EAAa,mCAAG,WAAOC,GAAP,0FACX,IAAIC,QAAJ,mCAAY,WAAOC,EAASC,GAAhB,2EACXH,EADW,iCAEQI,EAAAA,EAAAA,GAAeJ,GAFvB,QAELK,EAFK,SAGGA,EAAKC,WAKTD,EAAKE,aAMXf,GAAiB,GACjBE,EAAe,KACfQ,MAPAV,GAAiB,GACjBE,EAAe,YACfQ,MAPAV,GAAiB,GACjBM,IACAK,KANO,2CAAZ,0DADW,2CAAH,sDAuBbK,EAAY,mCAAG,oGACQX,IADR,OACXY,EADW,OAGjBC,EAAAA,GAAAA,QACIX,EAAa,OAACU,QAAD,IAACA,OAAD,EAACA,EAAYE,SAAU,CACpCC,QAAS,gBACTC,QAAS,4CACTC,MAAO,gDAPM,2CAAH,qDAelB,OAAQvB,GACF,SAAC,KAAD,CAAUwB,GAAItB,KACd,iBAAKV,UAAU,wCAAf,WACE,SAAC,KAAD,CACIiC,SAAS,aACTC,UAAW,IACXC,iBAAiB,EACjBC,aAAa,EACbC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAS,EACTC,cAAY,KAEhB,gBAAKzC,UAAU,4CAAf,UACI,iBAAKA,UAAU,qFAAf,WACI,iBAAKA,UAAU,kFAAf,WACI,4BACI,4BACI,gBAAKA,UAAU,sBAAf,UACI,SAAC,IAAD,CAAM0C,KAAK,YAEf,cAAG1C,UAAU,mBAAb,UAAgC,kFAChC,eAAGA,UAAU,8BAAb,iHAA2F,cAAGA,UAAU,WAAb,qBAA3F,+BAGJ,gBAAKA,UAAU,gBAAf,SACMa,GAYI,iBAAKb,UAAU,sBAAf,WACE,cAAGA,UAAU,gBAAb,gEACA,mBAAQA,UAAU,yCAAyC2C,QA7CzE,WAClB5B,KA4CgC,wBAbF,oBACEf,UAAU,uHACV2C,QAASlB,EAFX,WAGE,gBACImB,IAAKC,EACLC,IAAI,SACJC,MAAM,KACNC,OAAO,QAEX,cAAGhD,UAAU,gBAAb,0CAQhB,gBAAKA,UAAU,6BAAf,UACI,SAAC,IAAD,UAIR,gBAAKA,UAAU,kFAAf,UACI,gBACI4C,IAAKK,EACLH,IAAI,cACJ9C,UAAU,2C","sources":["components/QuickRedirect/index.tsx","routes/login/index.tsx"],"sourcesContent":["export interface LinkObject {\r\n    href: string;\r\n    text: string;\r\n    separator?: string;\r\n}\r\n\r\nconst defaultValue: LinkObject[] = [\r\n    { href: \"#\", text: \"Điều khoản\" },\r\n    { href: \"#\", text: \"Nhóm 7\" },\r\n    { href: \"#\", text: \"Tiro\" }\r\n];\r\n\r\nexport default function QuickRedirect({ link = defaultValue }: { link?: LinkObject[] }) {\r\n    return (\r\n        <div className=\"text-gray-400 flex flex-wrap justify-center mb-10\">\r\n            {link.map((item, index) => {\r\n                return (\r\n                    <div key={index} className=\"flex items-center\">\r\n                        <a href={item.href} className=\"text-gray-400 text-[14px] \">\r\n                            {item.text}\r\n                        </a>\r\n                        {(index != link.length - 1) && <span className=\"mx-2\">{item.separator || \" · \"}</span>}\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    )\r\n}","import { useState } from \"react\";\r\nimport { useGoogleAuth } from '@hooks/GoogleAuthProvider';\r\nimport { getVerifyToken } from '@api/auth';\r\nimport { Navigate } from \"react-router-dom\"\r\nimport Logo from \"@components/Logo\";\r\nimport QuickRedirect from \"@components/QuickRedirect\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport \"./index.scss\";\r\nimport GG_Logo from \"@images/gg.png\"\r\nimport illus from \"@images/login2.jpg\"\r\n\r\n\r\nexport default function Login() {\r\n    const [isRedirectUrl, setIsRedirectUrl] = useState(false);\r\n    const [redirectUrl, setRedirectUrl] = useState('');\r\n    const { isSignedIn, signIn, signOut } = useGoogleAuth();\r\n\r\n    const processSignIn = async (token: string | undefined): Promise<void> => {\r\n        return new Promise(async (resolve, reject) => {\r\n            if (token) {\r\n                const data = await getVerifyToken(token);\r\n                if (!data || !data.is_correct) {\r\n                    setIsRedirectUrl(false);\r\n                    signOut();\r\n                    reject();\r\n                }\r\n                else if (!data.enough_data) {\r\n                    setIsRedirectUrl(true);\r\n                    setRedirectUrl('/login/2');\r\n                    resolve();\r\n                }\r\n                else {\r\n                    setIsRedirectUrl(true);\r\n                    setRedirectUrl('/');\r\n                    resolve();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    const handleSignIn = async () => {\r\n        const googleUser = await signIn();\r\n\r\n        toast.promise(\r\n            processSignIn(googleUser?.tokenId), {\r\n            pending: 'Signing in...',\r\n            success: 'Đăng nhập thành công',\r\n            error: 'Đăng nhập thất bại',\r\n        });\r\n    }\r\n\r\n    const handleSignOut = () => {\r\n        signOut();\r\n    }\r\n\r\n    return (isRedirectUrl)\r\n        ? <Navigate to={redirectUrl} />\r\n        : <div className=\"w-screen h-screen bg-cover login-page\">\r\n            <ToastContainer\r\n                position=\"top-center\"\r\n                autoClose={5000}\r\n                hideProgressBar={false}\r\n                newestOnTop={false}\r\n                closeOnClick\r\n                rtl={false}\r\n                pauseOnFocusLoss\r\n                draggable\r\n                pauseOnHover\r\n            />\r\n            <div className=\"flex items-center justify-center h-screen\">\r\n                <div className=\"bg-white shadow-md rounded-3xl grid grid-cols-6 p-3 w-5/6 ss:w-4/5 3xl:w-3/5 h-3/5\">\r\n                    <div className=\"col-span-6 md:col-span-3 xl:col-span-2 mx-10 my-2 flex flex-col justify-between\">\r\n                        <div>\r\n                            <div>\r\n                                <div className=\"flex justify-center\">\r\n                                    <Logo size=\"64px\" />\r\n                                </div>\r\n                                <p className=\"text-center pb-8\"><b>Nền tảng tìm trọ cho sinh viên</b></p>\r\n                                <p className=\"text-center xl:text-justify\">Đăng ký ngay để cùng tham gia mạng lưới với hơn <b className=\"text-2xl\">100.000</b> nhà cung cấp</p>\r\n                            </div>\r\n\r\n                            <div className=\"pt-5 sm:pt-16\">\r\n                                {!isSignedIn\r\n                                    ? <button\r\n                                        className=\"flex justify-content-center w-full items-center border-2 border-solid border-gray-150 rounded-full p-2 text-ellipsis\"\r\n                                        onClick={handleSignIn}>\r\n                                        <img\r\n                                            src={GG_Logo}\r\n                                            alt=\"google\"\r\n                                            width=\"32\"\r\n                                            height=\"32\"\r\n                                        ></img>\r\n                                        <b className=\"ml-4 truncate\">Sign in with Google</b>\r\n                                    </button>\r\n                                    : <div className=\"flex justify-center\">\r\n                                        <p className=\"font-semibold\">Bạn đã đang nhập rồi!</p>\r\n                                        <button className=\"mx-1 font-bold text-bgviolet underline\" onClick={handleSignOut}>Logout</button>\r\n                                    </div>}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"w-full flex justify-center\">\r\n                            <QuickRedirect />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"hidden md:flex col-auto md:col-span-3 xl:col-span-4 overflow-hidden rounded-2xl\">\r\n                        <img\r\n                            src={illus}\r\n                            alt=\"login-illus\"\r\n                            className=\"w-full h-full object-cover\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n}"],"names":["defaultValue","href","text","QuickRedirect","link","className","map","item","index","length","separator","Login","useState","isRedirectUrl","setIsRedirectUrl","redirectUrl","setRedirectUrl","useGoogleAuth","isSignedIn","signIn","signOut","processSignIn","token","Promise","resolve","reject","getVerifyToken","data","is_correct","enough_data","handleSignIn","googleUser","toast","tokenId","pending","success","error","to","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","size","onClick","src","GG_Logo","alt","width","height","illus"],"sourceRoot":""}